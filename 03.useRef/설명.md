## useRef

---


- 함수형에서 useRef 는 ref 오브젝트를 반환한다.
  
```js
const ref = useRef(value);
```

- ref 오브젝트는 `{current : value}` 이렇게 생겼다. 초기값은 current 에 저장된다.

```js
ref.current = newValue; 
```
- 위처럼 ref내의 current 값을 바꿀 수 있다.

<br />

- 반환된 ref는 컴포넌트 생애주기 전반에 걸쳐 값이 유지된다. 즉, 컴포넌트가 언마운트(화면에서 사라질때)될 때까지는 값을 유지한다.

### 사용할 때

1. ref는 state와 비슷하게 값을 저장하는 저장공간으로 사용한다.
   - state를 변경하면 자동으로 컴포넌트를 렌더링한다. 함수형 컴포넌트는 말그대로 함수이다. 그래서 리렌더링 되면 함수가 다시 불려지는 것이기 때문에 내부에 있는 모든 변수들이 전부 다시 초기화 되버린다. 그렇기 때문에 가끔 우리는 원하지 않는 렌더링때문에 곤란해질때가 있다.
   - 그럴땐 state대신 ref안에 값을 저장하면 어떤 장점이 있을까? => ref의 유용한 점은 우리가 ref안에 있는 값을 아무리 변경해도 컴포넌트는 다시 렌더링 되지 않는다는 점이다. 즉, state대신 ref를 사용하면 불필요한 렌더링을 막을 수 있다. 
   - 또한, 컴포넌트가 아무리 렌더링이 되어도 ref안에 저장되어 있는 값은 변화되지 않고 그대로 유지가 된다. 그렇기 때문에 변경시 렌더링시키지 말아야되는 값을 다룰 때 정말 편리하다.

<br />

2. DOM 요소에 접근해서 여러가지 일을 할 수 있다.
   - 대표적으로는 input요소를 클릭하지 않아도 focus를 주고 싶을때 많이 사용한다. 
   - ref를 사용하면 DOM요소에 접근해 손쉽게 이러한 작업을 할 수 있다. 
   - 마치 vanilla js 의 document.querySelector()와 같다.

```js
const ref = useRef(value);

<input ref={ref} /> 
```

   - 위와 같이 원하는 요소에 ref속성으로 ref를 넣어주면 편리하게 요소에 접근할 수 있다.

---